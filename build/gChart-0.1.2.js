function gChart(t,a){this.container=t,this.chartType=this.selectChart(a)||chartTypes.COLUMN,this.data={},this.dataView={},this.options={},this.onMouse=new function(){},this.divDashboard="",this.controls=[],this.moreCharts=[],this.gChartOpts={},this.init=!1,this.errorContainer=""}function errorHandler(t){console.warn(t.message),google.visualization.errors.removeError(t.id);var a=document.body.innerHTML;document.body.innerHTML='<div class="gChart_Error"><p class="gChart_ErrorMessage" id="'+t.id+'">'+t.message+"</p></div>"+a}gChart.prototype={constructor:gChart,chartTypes:{COLUMN:"ColumnChart",BAR:"BarChart",LINE:"LineChart",TABLE:"Table",ANNOTATE:"AnnotationChart",AREA:"AreaChart",PIE:"PieChart",BUBBLE:"BubbleChart",COMBO:"ComboChart",SANKEY:"Sankey",SCATTER:"ScatterChart",STEPPED:"SteppedAreaChart",TIMELINE:"Timeline",TREEMAP:"TreeMap",CANDLE:"CandlestickChart",WORD:"WordTree",GANTT:"GanttChart",GEO:"GeoChart",CALENDAR:"Calendar",GAUGE:"Gauge",ORG:"OrgChart"},controlTypes:{CHARTRANGE:"ChartRangeFilter",NUMRANGE:"NumberRangeFilter",CATEGORY:"CategoryFilter"},loadCheck:function(){try{new google.visualization.DataTable;return!1}catch(t){return!0}},loadInit:function(){this.init||(this.controls.length<1&&(this.loadCheck()?this.getPackage():this.loadCheck()&&google.load("visualization","1.0",{packages:["controls"]})),this.init=!0)},getPackage:function(){switch(this.chartType){case this.chartTypes.ANNOTATE:return google.load("visualization","1",{packages:["annotationchart"]});case this.chartTypes.BAR:return google.load("visualization","1",{packages:["corechart","bar"]});case this.chartTypes.CALENDAR:return google.load("visualization","1.1",{packages:["calendar"]});case this.chartTypes.GANTT:return google.load("visualization","1.1",{packages:["gantt"]});case this.chartTypes.GAUGE:return google.load("visualization","1",{packages:["corechart","gauge"]});case this.chartTypes.GEO:return google.load("visualization","1",{packages:["geochart"]});case this.chartTypes.LINE:return google.load("visualization","1",{packages:["corechart","line"]});case this.chartTypes.ORG:return google.load("visualization","1",{packages:["orgchart"]});case this.chartTypes.SANKEY:return google.load("visualization","1.1",{packages:["corechart","sankey"]});case this.chartTypes.TABLE:return google.load("visualization","1.1",{packages:["table"]});case this.chartTypes.TIMELINE:return google.load("visualization","1",{packages:["timeline"]});case this.chartTypes.TREEMAP:return google.load("visualization","1",{packages:["treemap"]});case this.chartTypes.WORD:return google.load("visualization","1.1",{packages:["wordtree"]});default:return google.load("visualization","1",{packages:["corechart"]})}},getWrapper:function(){this.loadInit();var t=new google.visualization.ChartWrapper({chartType:this.chartType,dataTable:this.data,options:this.options,containerId:this.container});return google.visualization.events.addListener(t,"error",errorHandler),t},setData:function(t){this.loadInit(),Array.isArray(t)?this.data=new google.visualization.arrayToDataTable(t):this.data=new google.visualization.DataTable(t)},setDataView:function(t){void 0!==this.data&&void 0!==t&&(this.dataView=new google.visualization.DataView(this.data),this.dataView.setColumns(t))},addControl:function(t,a,e){this.controls.push(new google.visualization.ControlWrapper({controlType:this.selectControl(t),containerId:a,options:{filterColumnLabel:e}}))},addChart:function(t){this.moreCharts.push(t)},addEvent:function(t,a){"error"!==t.toLowerCase()?google.visualization.events.addListener(this.getWrapper(),t,a||this.onMouse):google.visualization.events.addListener(this.getWrapper(),"error",errorHandler)},transpose:function(){if(this.data.getNumberOfRows()<2&&this.data.getNumberOfColumns()>2){var t=new google.visualization.DataTable;t.addColumn("string",this.gChartOpts.transpose||"Items"),t.addColumn("number","Count");for(var a=this.data.getNumberOfColumns(),e=0;a>e;e++)t.addRow([this.data.getColumnLabel(e).toString(),this.data.getValue(0,e)]);this.data=t}},selectChart:function(t){switch(t.toLowerCase()){case"column":return this.chartTypes.COLUMN;case"pie":return this.chartTypes.PIE;case"bar":return this.chartTypes.BAR;case"line":return this.chartTypes.LINE;case"table":return this.chartTypes.TABLE;case"annotate":return this.chartTypes.ANNOTATE;case"area":return this.chartTypes.AREA;case"bubble":return this.chartTypes.BUBBLE;case"combo":return this.chartTypes.COMBO;case"sankey":return this.chartTypes.SANKEY;case"scatter":return this.chartTypes.SCATTER;case"stepped":return this.chartTypes.STEPPED;case"timeline":return this.chartTypes.TIMELINE;case"treemap":return this.chartTypes.TREEMAP;case"candle":return this.chartTypes.CANDLE;case"word":return this.chartTypes.WORD;case"gantt":return this.chartTypes.GANTT;case"geo":return this.chartTypes.GEO;case"calendar":return this.chartTypes.CALENDAR;case"gauge":return this.chartTypes.GAUGE;case"org":return this.chartTypes.ORG}},selectControl:function(t){switch(t.toLowerCase()){case"chart":return this.controlTypes.CHARTRANGE;case"number":return this.controlTypes.NUMRANGE;case"category":return this.controlTypes.CATEGORY}},show:function(){if(this.divDashboard.length<1){this.loadInit();var t=this;google.setOnLoadCallback(function(){switch(typeof t.dataView===google.visualization.DataView?t.setData(t.dataView):t.setData(t.data),t.chartType){case t.chartTypes.PIE:t.transpose()}t.getWrapper().draw()})}else{this.loadInit();var a=new google.visualization.Dashboard(this.divDashboard),t=this;google.setOnLoadCallback(function(){t.moreCharts.length<0?a.bind(t.controls[0],t.getWrapper()):1===t.moreCharts.length&&a.bind(t.controls[0],t.getWrapper(),t.moreCharts[0].getWrapper()),a.draw()})}}};